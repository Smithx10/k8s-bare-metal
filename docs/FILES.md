## Configuration Files

The following is a list of configuration files required/generated by the
process. Most of these are generated for you by Terraform.

###  /var/lib/kubernetes/authorization-policy.jsonl

Install on `controller` (`kube-apiserver`) nodes.
Static file, no dynamic values.

###  /var/lib/kubernetes/token.csv

Any machine with `kube-apiserver` or `kubectl`.
Includes token generated as a sort of password.

### /etc/systemd/system/kube-apiserver.service

`scripts/start-kube-apiserver.sh` => `/usr/local/sbin`

Self IP address.
`etcd` cluster addresses.
Total number of API servers.
Includes list of controller IPs and port `2379`

Upload auth policy to `/var/lib/kubernetes`
Upload TLS docs into `/var/lib/kubernetes`
Upload tokens file into `/var/lib/kubernetes`

No dependencies on other instances, can be cleanly generated.

```
https://10.240.0.8:2379,https://10.240.0.12:2379,https://10.240.0.13:2379
```

### /etc/systemd/system/kube-controller-manager.service

`scripts/start-kube-controller-manager.sh` => `/usr/local/sbin`

No dependencies on other instances, can be cleanly installed.

### /etc/systemd/system/kube-scheduler.service

`scripts/start-kube-scheduler.sh` => `/usr/local/sbin`

No dependencies on other instances, can be cleanly installed.

### /etc/systemd/system/kube-proxy.service

`scripts/start-kube-proxy.sh` => `/usr/local/sbin`

Master controller IP.

### /var/lib/kubelet/kubeconfig

Installed on workers.
Requires controller0 IP.
Requires token used for API auth.

Depends on API servers being setup.

`https://10.240.0.8:6443,https://10.240.0.12:6443,https://10.240.0.13:6443`

### /var/lib/kubernetes/ca.pem

TLS uploads after provisioning from the bastion.

### /var/lib/kubernetes/kubernetes-key.pem

TLS uploads after provisioning from the bastion.

### /var/lib/kubernetes/kubernetes.pem

TLS uploads after provisioning from the bastion.

### Setup TLS

```sh
$ mkdir -p /var/lib/kubernetes
$ cp ca.pem kubernetes-key.pem kubernetes.pem /var/lib/kubernetes/
```
